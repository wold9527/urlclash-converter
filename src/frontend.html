<!--
SPDX-License-Identifier: GPL-3.0-or-later
GitHub: https://github.com/siiway/subconverter-snippet
Only for education and study use.
本工具仅提供 URL 和 Clash Config 的配置文件格式转换，不存储任何信息，不提供任何代理服务，一切使用产生后果由使用者自行承担，SiiWay Team 及开发本工具的成员不负任何责任.
-->

<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>订阅转换器</title>
    <script>
        const script = document.createElement('script');
        script.src = 'https://github.com/REPOPLACEHOLDER/releases/download/latest/converter.js';
        document.head.appendChild(script);
    </script>
    <style>
        body {
            font-family: monospace;
            padding: 20px;
        }

        textarea,
        pre {
            width: 100%;
            font-family: monospace;
        }

        button {
            margin: 5px;
            padding: 10px;
        }
    </style>
</head>

<body>
    <h1>链接 &lt;-&gt; Clash 订阅转换器（本地执行）</h1>
    <textarea id="input" placeholder="粘贴订阅链接或 Clash YAML" style="height:300px"></textarea>
    <br>
    <button onclick="convert()">链接 → Clash</button>
    <button onclick="reverse()">Clash → 链接</button>
    <pre id="output">加载中...</pre>
    <script>
        script.onload = () => {
            document.getElementById('output').textContent = '就绪！';
        };
        script.onerror = (e) => {
            document.getElementById('output').textContent = `错误: ${e}`;
        }
        function convert() {
            const links = document.getElementById('input').value.trim().split('\n').filter(Boolean);
            document.getElementById('output').textContent = linkToClash(links);
        }
        function reverse() {
            const yaml = document.getElementById('input').value;
            document.getElementById('output').textContent = clashToLink(yaml);
        }
    </script>
</body>

</html>